<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–°–∏–º—É–ª—è—Ç–æ—Ä –º–∞—à–∏–Ω–∏ –¢—é—Ä—ñ–Ω–≥–∞</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 20px;
      text-align: center;
      background: #f0f4ff;
      color: #222;
    }
    textarea, input[type="text"] {
      width: 80%;
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #888;
      background: #fff;
    }
    #tape span {
      display: inline-block;
      padding: 8px;
      border: 2px solid #555;
      width: 20px;
      cursor: pointer;
      font-weight: bold;
      background-color: #e0eaff;
      margin: 1px;
      transition: all 0.2s ease;
    }
    .head {
      background-color: #ffeb3b;
      border-color: #f57f17;
      box-shadow: 0 0 8px 4px #fbc02d;
      transform: scale(1.2);
      z-index: 1;
    }
    table {
      border-collapse: collapse;
      margin: 10px auto;
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #999;
      padding: 6px;
      width: 80px;
      text-align: center;
    }
    .controls {
      margin-top: 10px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      background: #1976d2;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #1565c0;
    }
    .current {
      background-color: #c8e6c9 !important;
    }
  </style>
</head>
<body>

<h1>üåê –°–∏–º—É–ª—è—Ç–æ—Ä –º–∞—à–∏–Ω–∏ –¢—é—Ä—ñ–Ω–≥–∞</h1>

<h3>–£–º–æ–≤–∞ –∑–∞–¥–∞—á—ñ:</h3>
<textarea id="task"></textarea>

<!-- üîÄ –ü–µ—Ä–µ–Ω—ñ—Å –∞–ª—Ñ–∞–≤—ñ—Ç –≤–∏—â–µ –∑–∞ "–í—Ö—ñ–¥–Ω–µ —Å–ª–æ–≤–æ" -->
<h3>–ê–ª—Ñ–∞–≤—ñ—Ç:</h3>
<input type="text" id="alphabet" value="0 1 _" oninput="updateAlphabet()">

<h3>–í—Ö—ñ–¥–Ω–µ —Å–ª–æ–≤–æ:</h3>
<input type="text" id="inputWord" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 101" oninput="updateTapeFromInput()">

<div id="tape"></div>

<h3>–¢–∞–±–ª–∏—Ü—è –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤:</h3>
<table id="rules">
  <thead>
    <tr>
      <th></th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody id="rulesBody"></tbody>
</table>
<button onclick="addStateColumn()">–î–æ–¥–∞—Ç–∏ —Å—Ç–∞–Ω</button>

<h3>–ö–æ–º–µ–Ω—Ç–∞—Ä:</h3>
<textarea id="comment">
–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è:
1. –£–≤–µ–¥—ñ—Ç—å —É–º–æ–≤—É –∑–∞–¥–∞—á—ñ —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –ø–æ–ª—ñ.
2. –°–ø–æ—á–∞—Ç–∫—É –∑–∞–¥–∞–π—Ç–µ –∞–ª—Ñ–∞–≤—ñ—Ç ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ñ —Å–∏–º–≤–æ–ª–∏ (–ø—Ä–æ–±—ñ–ª ‚Äî —Ü–µ "_").
3. –í–≤–µ–¥—ñ—Ç—å –≤—Ö—ñ–¥–Ω–µ —Å–ª–æ–≤–æ ‚Äî –≤–æ–Ω–æ –∑ º—è–≤–∏—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä—ñ—á—Ü—ñ.
4. –ö–ª–∞—Ü–Ω—ñ—Ç—å –ø–æ –∫–ª—ñ—Ç–∏–Ω—Ü—ñ —Å—Ç—Ä—ñ—á–∫–∏, —â–æ–± –æ–±—Ä–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤—É –ø–æ–∑–∏—Ü—ñ—é –≥–æ–ª–æ–≤–∫–∏.
5. –í —Ç–∞–±–ª–∏—Ü—ñ –∑–∞–¥–∞–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ: [–Ω–æ–≤–∏–π_—Å–∏–º–≤–æ–ª] [–Ω–∞–ø—Ä—è–º–æ–∫: > < .] [–Ω–æ–≤–∏–π_—Å—Ç–∞–Ω].
6. –Ø–∫—â–æ –Ω–∞–ø—Ä—è–º–æ–∫ ‚Äî "." —ñ —Å—Ç–∞–Ω ‚Äî "0", –º–∞—à–∏–Ω–∞ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è (–∞–ª–µ —Å–∏–º–≤–æ–ª –±—É–¥–µ –∑–∞–º—ñ–Ω–µ–Ω–∏–π).
7. "–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫" –≤–∏–∫–æ–Ω—É—î –¥—ñ—é –∑–≥—ñ–¥–Ω–æ –∑ –ø–æ—Ç–æ—á–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º —Ç–∞ —Å—Ç–∞–Ω–æ–º.
8. "–°–∫–∏–Ω—É—Ç–∏" ‚Äî –æ—á–∏—â–∞—î —Å—Ç—Ä—ñ—á–∫—É —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞–Ω —É Q1.
9. "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –≤—Ö—ñ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞" ‚Äî –≤—ñ–¥–Ω–æ–≤–ª—é—î —Å—Ç—Ä—ñ—á–∫—É —Ç–∞–∫–æ—é, —è–∫ –±—É–ª–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É.
</textarea>

<div class="controls">
  <button onclick="startMachine()">–°—Ç–∞—Ä—Ç</button>
  <button onclick="nextStep()">–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫</button>
  <button onclick="resetMachine()">–°–∫–∏–Ω—É—Ç–∏</button>
  <button onclick="restoreInputWord()">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –≤—Ö—ñ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞</button>
</div>

<script>
let tape = Array(21).fill('_');
let headPos = 10;
let state = 'Q1';
let halted = false;
let initialWord = ''; // –ø–æ—á–∞—Ç–∫–æ–≤–µ —Å–ª–æ–≤–æ

function renderTape() {
  let html = '';
  for (let i = 0; i < tape.length; i++) {
    html += `<span onclick="setHead(${i})" class="${i === headPos ? 'head' : ''}">${tape[i]}</span>`;
  }
  document.getElementById('tape').innerHTML = html;
}

function setHead(pos) {
  headPos = pos;
  renderTape();
}

function updateTapeFromIn
